## 스프링 데이터 JPA
```
- 스프링 프레임 워크에서 JPA를 편리하게 사용할 수 있도록 지원하는 프로젝트.
- CRUD를 처리하기 위한 공통 인터페이스를 제공.
- 실행시점에 구현 객체를 동적으로 생성해서 주입.
- 데이터 접근 계층을 개발할 때 구현 클래스 없이 인터페이스만 작성해도 가능.
- JPA Repository 인터페이스 기억하자.
- JPA, 몽고DB, NEO4J, REDIS.. 같은 다양한 데이터 저장소에 대한 접근을 추상화해서 제공. 
```

findByUsername()같은 메소드는 메소드 이름을 분석해더 JPQL을 실행한다.

    
---   
##### 구현 클래스 생성 순서 
```
애플리케이션 실행 -> basePackage에 있는 리포지토리 인터페이스들을 찾아서 -> 해당 인터페이스를 구현한 클래스를 동적으로 생성 -> 스프링 빈으로 등록
``` 

--- 
### 쿼리 메소드
```
* 메소드 이름으로 쿼리 생성
* 메소드 이름으로 JPA NamedQeury 호출
    - 도메인 클래스 + . + 메소드 이름 으로 쿼리를 찾아서 실행
* @Query 어노테이션을 사용해서 리포지토리 인터페이스에 쿼리 직접 정의
```

#### @Modifying
```
* 수정, 삭제 쿼리에 사용
* clearAutomatically=true : 쿼리 실행 후 영속성 컨텍스트 초기화 설정 
```
-----
 
 #### 스프링 데이터 JPA가 사용하는 구현체 
 ```
* @Repository 적용 : JPA 예외를 스프링이 추상화한 예외로 변환
* @Transactional 트랜잭션 적용 : 
    공통 인터페이스를 사용하면 데이터 변경하는 메소드에 @Transactional로 처리되어있음
    서비스 계층에서 트랜잭션을 시작하지않으면 리포지토리에서 시작
    서비스 계층에서 시작했으면 리포지토리도 해당 트랜잭션을 전파 받아서 그대로 사용
* @Transactional(readOnly=true) : 
    데이터를 조회하는 메소드에는 readOnly=true 옵션이 적용되어있음                         
```

-----
#### QueryDsl 지원
```
* QueryDslPredicateExecutor
    join, fetch 사용불가. 
* QueryDslRepositorySupport
    
```


 